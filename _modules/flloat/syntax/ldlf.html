
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>flloat.syntax.ldlf &#8212; FLLOAT 0.1.4.post1 documentation</title>
    <link rel="stylesheet" href="../../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <h1>Source code for flloat.syntax.ldlf</h1><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">abc</span> <span class="k">import</span> <span class="n">abstractmethod</span><span class="p">,</span> <span class="n">ABC</span>
<span class="kn">from</span> <span class="nn">functools</span> <span class="k">import</span> <span class="n">lru_cache</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="k">import</span> <span class="n">Set</span>

<span class="kn">from</span> <span class="nn">flloat.base.Formula</span> <span class="k">import</span> <span class="n">Formula</span><span class="p">,</span> <span class="n">CommutativeBinaryOperator</span><span class="p">,</span> <span class="n">UnaryOperator</span><span class="p">,</span> <span class="n">BinaryOperator</span><span class="p">,</span> <span class="n">OperatorChilds</span><span class="p">,</span> \
    <span class="n">AtomicFormula</span>
<span class="kn">from</span> <span class="nn">flloat.base.Symbol</span> <span class="k">import</span> <span class="n">Symbol</span>
<span class="kn">from</span> <span class="nn">flloat.base.Symbols</span> <span class="k">import</span> <span class="n">Symbols</span>
<span class="kn">from</span> <span class="nn">flloat.base.convertible</span> <span class="k">import</span> <span class="n">DeltaConvertibleFormula</span><span class="p">,</span> <span class="n">ImpliesDeltaConvertible</span><span class="p">,</span> <span class="n">EquivalenceDeltaConvertible</span><span class="p">,</span> \
    <span class="n">ConvertibleFormula</span>
<span class="kn">from</span> <span class="nn">flloat.base.misc</span> <span class="k">import</span> <span class="n">Delta</span>
<span class="kn">from</span> <span class="nn">flloat.base.nnf</span> <span class="k">import</span> <span class="n">NNF</span><span class="p">,</span> <span class="n">NotNNF</span><span class="p">,</span> <span class="n">DualBinaryOperatorNNF</span><span class="p">,</span> <span class="n">DualNNF</span>
<span class="kn">from</span> <span class="nn">flloat.base.truths</span> <span class="k">import</span> <span class="n">NotTruth</span><span class="p">,</span> <span class="n">AndTruth</span><span class="p">,</span> <span class="n">OrTruth</span><span class="p">,</span> <span class="n">Truth</span>
<span class="kn">from</span> <span class="nn">flloat.utils</span> <span class="k">import</span> <span class="n">MAX_CACHE_SIZE</span>
<span class="kn">from</span> <span class="nn">flloat.flloat</span> <span class="k">import</span> <span class="n">to_automaton</span><span class="p">,</span> <span class="n">DFAOTF</span><span class="p">,</span> <span class="n">to_automaton_</span>
<span class="kn">from</span> <span class="nn">flloat.semantics.ldlf</span> <span class="k">import</span> <span class="n">FiniteTrace</span><span class="p">,</span> <span class="n">FiniteTraceTruth</span>
<span class="kn">from</span> <span class="nn">flloat.semantics.pl</span> <span class="k">import</span> <span class="n">PLInterpretation</span><span class="p">,</span> <span class="n">PLFalseInterpretation</span>
<span class="kn">from</span> <span class="nn">flloat.syntax.pl</span> <span class="k">import</span> <span class="n">PLFormula</span><span class="p">,</span> <span class="n">PLTrue</span><span class="p">,</span> <span class="n">PLFalse</span><span class="p">,</span> <span class="n">PLAnd</span><span class="p">,</span> <span class="n">PLOr</span>


<div class="viewcode-block" id="RegExpTruth"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.RegExpTruth">[docs]</a><span class="k">class</span> <span class="nc">RegExpTruth</span><span class="p">(</span><span class="n">Truth</span><span class="p">):</span>
<div class="viewcode-block" id="RegExpTruth.truth"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.RegExpTruth.truth">[docs]</a>    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">truth</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tr</span><span class="p">:</span> <span class="n">FiniteTrace</span><span class="p">,</span> <span class="n">start</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">end</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span></div></div>

<div class="viewcode-block" id="LDLfFormula"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.LDLfFormula">[docs]</a><span class="k">class</span> <span class="nc">LDLfFormula</span><span class="p">(</span><span class="n">Formula</span><span class="p">,</span> <span class="n">FiniteTraceTruth</span><span class="p">,</span> <span class="n">NNF</span><span class="p">,</span> <span class="n">Delta</span><span class="p">):</span>

<div class="viewcode-block" id="LDLfFormula.delta"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.LDLfFormula.delta">[docs]</a>    <span class="nd">@lru_cache</span><span class="p">(</span><span class="n">maxsize</span><span class="o">=</span><span class="n">MAX_CACHE_SIZE</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">delta</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">:</span> <span class="n">PLInterpretation</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>

        <span class="n">f</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_nnf</span><span class="p">()</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">_delta</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">epsilon</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">epsilon</span><span class="p">:</span>
            <span class="c1"># By definition, if epsilon=True, then the result must be either PLTrue or PLFalse</span>
            <span class="c1"># Now, the output is a Propositional Formula with only PLTrue or PLFalse as atomics</span>
            <span class="c1"># Hence, we just evaluate the formula with a dummy PLInterpretation</span>
            <span class="n">d</span> <span class="o">=</span> <span class="n">PLTrue</span><span class="p">()</span> <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">truth</span><span class="p">(</span><span class="n">PLFalseInterpretation</span><span class="p">())</span> <span class="k">else</span> <span class="n">PLFalse</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">d</span></div>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">_delta</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">:</span> <span class="n">PLInterpretation</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;apply delta function, assuming that &#39;self&#39; is a LDLf formula in Negative Normal Form&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>

    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span>

<div class="viewcode-block" id="LDLfFormula.to_automaton"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.LDLfFormula.to_automaton">[docs]</a>    <span class="k">def</span> <span class="nf">to_automaton</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">labels</span><span class="p">:</span><span class="n">Set</span><span class="p">[</span><span class="n">Symbol</span><span class="p">]</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">on_the_fly</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">determinize</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">minimize</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">labels</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">labels</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_labels</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">on_the_fly</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">DFAOTF</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">determinize</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">to_automaton</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">labels</span><span class="p">,</span> <span class="n">minimize</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">to_automaton_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">labels</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="LDLfCommBinaryOperator"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.LDLfCommBinaryOperator">[docs]</a><span class="k">class</span> <span class="nc">LDLfCommBinaryOperator</span><span class="p">(</span><span class="n">CommutativeBinaryOperator</span><span class="p">,</span> <span class="n">LDLfFormula</span><span class="p">):</span>
    <span class="k">pass</span></div>


<div class="viewcode-block" id="DeltaRegExp"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.DeltaRegExp">[docs]</a><span class="k">class</span> <span class="nc">DeltaRegExp</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
<div class="viewcode-block" id="DeltaRegExp.deltaDiamond"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.DeltaRegExp.deltaDiamond">[docs]</a>    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">deltaDiamond</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">f</span><span class="p">:</span><span class="n">LDLfFormula</span><span class="p">,</span> <span class="n">i</span><span class="p">:</span> <span class="n">PLInterpretation</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span></div>

<div class="viewcode-block" id="DeltaRegExp.deltaBox"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.DeltaRegExp.deltaBox">[docs]</a>    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">deltaBox</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">f</span><span class="p">:</span><span class="n">LDLfFormula</span><span class="p">,</span> <span class="n">i</span><span class="p">:</span> <span class="n">PLInterpretation</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span></div></div>

<div class="viewcode-block" id="RegExpFormula"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.RegExpFormula">[docs]</a><span class="k">class</span> <span class="nc">RegExpFormula</span><span class="p">(</span><span class="n">Formula</span><span class="p">,</span> <span class="n">RegExpTruth</span><span class="p">,</span> <span class="n">NNF</span><span class="p">,</span> <span class="n">DeltaRegExp</span><span class="p">):</span>

    <span class="c1"># this should be never called. Just for override the inherited abstract method.</span>
<div class="viewcode-block" id="RegExpFormula.negate"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.RegExpFormula.negate">[docs]</a>    <span class="k">def</span> <span class="nf">negate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span></div></div>


<div class="viewcode-block" id="LDLfTemporalFormula"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.LDLfTemporalFormula">[docs]</a><span class="k">class</span> <span class="nc">LDLfTemporalFormula</span><span class="p">(</span><span class="n">LDLfFormula</span><span class="p">):</span>
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">temporal_brackets</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">-&gt;</span><span class="nb">str</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">r</span><span class="p">:</span><span class="n">RegExpFormula</span><span class="p">,</span> <span class="n">f</span><span class="p">:</span><span class="n">LDLfFormula</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">r</span> <span class="o">=</span> <span class="n">r</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">f</span> <span class="o">=</span> <span class="n">f</span>

    <span class="k">def</span> <span class="nf">_members</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">temporal_brackets</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">r</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">f</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">temporal_brackets</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">r</span><span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">temporal_brackets</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;(&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">f</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span>

<div class="viewcode-block" id="LDLfTemporalFormula.find_labels"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.LDLfTemporalFormula.find_labels">[docs]</a>    <span class="k">def</span> <span class="nf">find_labels</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">f</span><span class="o">.</span><span class="n">find_labels</span><span class="p">()</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">find_labels</span><span class="p">())</span></div></div>


<div class="viewcode-block" id="LDLfTemporalFormulaNNF"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.LDLfTemporalFormulaNNF">[docs]</a><span class="k">class</span> <span class="nc">LDLfTemporalFormulaNNF</span><span class="p">(</span><span class="n">LDLfTemporalFormula</span><span class="p">,</span> <span class="n">DualNNF</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">_to_nnf</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="bp">self</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">to_nnf</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">f</span><span class="o">.</span><span class="n">to_nnf</span><span class="p">())</span>

<div class="viewcode-block" id="LDLfTemporalFormulaNNF.negate"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.LDLfTemporalFormulaNNF.negate">[docs]</a>    <span class="k">def</span> <span class="nf">negate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Dual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">r</span><span class="p">,</span> <span class="n">LDLfNot</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">f</span><span class="p">))</span></div></div>


<div class="viewcode-block" id="LDLfAtomic"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.LDLfAtomic">[docs]</a><span class="k">class</span> <span class="nc">LDLfAtomic</span><span class="p">(</span><span class="n">AtomicFormula</span><span class="p">,</span> <span class="n">LDLfFormula</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">AtomicFormula</span><span class="o">.</span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

<div class="viewcode-block" id="LDLfAtomic.find_labels"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.LDLfAtomic.find_labels">[docs]</a>    <span class="k">def</span> <span class="nf">find_labels</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">set</span><span class="p">()</span></div></div>


<div class="viewcode-block" id="LDLfLogicalTrue"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.LDLfLogicalTrue">[docs]</a><span class="k">class</span> <span class="nc">LDLfLogicalTrue</span><span class="p">(</span><span class="n">LDLfAtomic</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">Symbol</span><span class="p">(</span><span class="n">Symbols</span><span class="o">.</span><span class="n">LOGICAL_TRUE</span><span class="o">.</span><span class="n">value</span><span class="p">))</span>

<div class="viewcode-block" id="LDLfLogicalTrue.truth"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.LDLfLogicalTrue.truth">[docs]</a>    <span class="k">def</span> <span class="nf">truth</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span></div>

    <span class="k">def</span> <span class="nf">_to_nnf</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span>

<div class="viewcode-block" id="LDLfLogicalTrue.negate"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.LDLfLogicalTrue.negate">[docs]</a>    <span class="k">def</span> <span class="nf">negate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">LDLfLogicalFalse</span><span class="p">()</span></div>

    <span class="k">def</span> <span class="nf">_delta</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">:</span><span class="n">PLInterpretation</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">PLTrue</span><span class="p">()</span></div>


<div class="viewcode-block" id="LDLfLogicalFalse"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.LDLfLogicalFalse">[docs]</a><span class="k">class</span> <span class="nc">LDLfLogicalFalse</span><span class="p">(</span><span class="n">LDLfAtomic</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">Symbol</span><span class="p">(</span><span class="n">Symbols</span><span class="o">.</span><span class="n">LOGICAL_FALSE</span><span class="o">.</span><span class="n">value</span><span class="p">))</span>

<div class="viewcode-block" id="LDLfLogicalFalse.truth"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.LDLfLogicalFalse.truth">[docs]</a>    <span class="k">def</span> <span class="nf">truth</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span></div>

    <span class="k">def</span> <span class="nf">_to_nnf</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span>

<div class="viewcode-block" id="LDLfLogicalFalse.negate"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.LDLfLogicalFalse.negate">[docs]</a>    <span class="k">def</span> <span class="nf">negate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">LDLfLogicalTrue</span><span class="p">()</span></div>

    <span class="k">def</span> <span class="nf">_delta</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">:</span><span class="n">PLInterpretation</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">PLFalse</span><span class="p">()</span></div>


<div class="viewcode-block" id="LDLfNot"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.LDLfNot">[docs]</a><span class="k">class</span> <span class="nc">LDLfNot</span><span class="p">(</span><span class="n">NotTruth</span><span class="p">,</span> <span class="n">LDLfFormula</span><span class="p">,</span> <span class="n">NotNNF</span><span class="p">):</span>

    <span class="c1"># def __init__(self, f:LDLfFormula):</span>
    <span class="c1">#     LDLfFormula.__init__(self)</span>
    <span class="c1">#     NotTruth.__init__(self, f)</span>

    <span class="k">def</span> <span class="nf">_to_nnf</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">neg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">f</span><span class="o">.</span><span class="n">negate</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">neg</span><span class="o">.</span><span class="n">to_nnf</span><span class="p">()</span>

<div class="viewcode-block" id="LDLfNot.negate"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.LDLfNot.negate">[docs]</a>    <span class="k">def</span> <span class="nf">negate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">f</span></div>

    <span class="k">def</span> <span class="nf">_delta</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">:</span> <span class="n">PLInterpretation</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="c1"># should never called, since it is called from NNF formulas</span>
        <span class="k">raise</span> <span class="ne">Exception</span></div>


<div class="viewcode-block" id="LDLfAnd"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.LDLfAnd">[docs]</a><span class="k">class</span> <span class="nc">LDLfAnd</span><span class="p">(</span><span class="n">LDLfCommBinaryOperator</span><span class="p">,</span> <span class="n">AndTruth</span><span class="p">,</span> <span class="n">DualBinaryOperatorNNF</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">_delta</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">:</span><span class="n">PLInterpretation</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">PLAnd</span><span class="p">([</span><span class="n">f</span><span class="o">.</span><span class="n">_delta</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">epsilon</span><span class="p">)</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">formulas</span><span class="p">])</span></div>


<div class="viewcode-block" id="LDLfOr"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.LDLfOr">[docs]</a><span class="k">class</span> <span class="nc">LDLfOr</span><span class="p">(</span><span class="n">LDLfCommBinaryOperator</span><span class="p">,</span> <span class="n">OrTruth</span><span class="p">,</span> <span class="n">DualBinaryOperatorNNF</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">_delta</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">:</span><span class="n">PLInterpretation</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">PLOr</span><span class="p">([</span><span class="n">f</span><span class="o">.</span><span class="n">_delta</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">epsilon</span><span class="p">)</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">formulas</span><span class="p">])</span></div>


<div class="viewcode-block" id="LDLfImplies"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.LDLfImplies">[docs]</a><span class="k">class</span> <span class="nc">LDLfImplies</span><span class="p">(</span><span class="n">ImpliesDeltaConvertible</span><span class="p">,</span> <span class="n">LDLfFormula</span><span class="p">):</span>
    <span class="n">And</span> <span class="o">=</span> <span class="n">LDLfAnd</span>
    <span class="n">Or</span> <span class="o">=</span>  <span class="n">LDLfOr</span>
    <span class="n">Not</span> <span class="o">=</span> <span class="n">LDLfNot</span></div>

<div class="viewcode-block" id="LDLfEquivalence"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.LDLfEquivalence">[docs]</a><span class="k">class</span> <span class="nc">LDLfEquivalence</span><span class="p">(</span><span class="n">EquivalenceDeltaConvertible</span><span class="p">,</span> <span class="n">LDLfCommBinaryOperator</span><span class="p">):</span>
    <span class="n">And</span> <span class="o">=</span> <span class="n">LDLfAnd</span>
    <span class="n">Or</span> <span class="o">=</span> <span class="n">LDLfOr</span>
    <span class="n">Not</span> <span class="o">=</span> <span class="n">LDLfNot</span></div>

<div class="viewcode-block" id="LDLfDiamond"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.LDLfDiamond">[docs]</a><span class="k">class</span> <span class="nc">LDLfDiamond</span><span class="p">(</span><span class="n">LDLfTemporalFormulaNNF</span><span class="p">,</span> <span class="n">FiniteTraceTruth</span><span class="p">):</span>
    <span class="n">temporal_brackets</span> <span class="o">=</span> <span class="s2">&quot;&lt;&gt;&quot;</span>

<div class="viewcode-block" id="LDLfDiamond.truth"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.LDLfDiamond.truth">[docs]</a>    <span class="k">def</span> <span class="nf">truth</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">:</span> <span class="n">FiniteTrace</span><span class="p">,</span> <span class="n">pos</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">any</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">truth</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">j</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">f</span><span class="o">.</span><span class="n">truth</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">)</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span> <span class="n">i</span><span class="o">.</span><span class="n">last</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span></div>
        <span class="c1"># last + 1 in order to include the last step</span>

    <span class="k">def</span> <span class="nf">_delta</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">:</span><span class="n">PLInterpretation</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">deltaDiamond</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">f</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">epsilon</span><span class="p">)</span></div>


<div class="viewcode-block" id="LDLfBox"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.LDLfBox">[docs]</a><span class="k">class</span> <span class="nc">LDLfBox</span><span class="p">(</span><span class="n">ConvertibleFormula</span><span class="p">,</span> <span class="n">LDLfTemporalFormulaNNF</span><span class="p">):</span>
    <span class="n">temporal_brackets</span> <span class="o">=</span> <span class="s2">&quot;[]&quot;</span>

    <span class="k">def</span> <span class="nf">_convert</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">LDLfNot</span><span class="p">(</span><span class="n">LDLfDiamond</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">r</span><span class="p">,</span> <span class="n">LDLfNot</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">f</span><span class="p">)))</span>

<div class="viewcode-block" id="LDLfBox.truth"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.LDLfBox.truth">[docs]</a>    <span class="k">def</span> <span class="nf">truth</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">:</span> <span class="n">FiniteTrace</span><span class="p">,</span> <span class="n">pos</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert</span><span class="p">()</span><span class="o">.</span><span class="n">truth</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">pos</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">_delta</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">:</span><span class="n">PLInterpretation</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="n">d</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">deltaBox</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">f</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">epsilon</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">d</span></div>


<div class="viewcode-block" id="RegExpPropositional"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.RegExpPropositional">[docs]</a><span class="k">class</span> <span class="nc">RegExpPropositional</span><span class="p">(</span><span class="n">RegExpFormula</span><span class="p">,</span> <span class="n">PLFormula</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pl_formula</span><span class="p">:</span><span class="n">PLFormula</span><span class="p">):</span>
        <span class="n">RegExpFormula</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pl_formula</span> <span class="o">=</span> <span class="n">pl_formula</span>

<div class="viewcode-block" id="RegExpPropositional.truth"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.RegExpPropositional.truth">[docs]</a>    <span class="k">def</span> <span class="nf">truth</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tr</span><span class="p">:</span> <span class="n">FiniteTrace</span><span class="p">,</span> <span class="n">start</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">end</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">end</span> <span class="o">==</span> <span class="n">start</span> <span class="o">+</span> <span class="mi">1</span> \
                <span class="ow">and</span> <span class="n">end</span> <span class="o">&lt;=</span> <span class="n">tr</span><span class="o">.</span><span class="n">last</span><span class="p">()</span> \
                <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">pl_formula</span><span class="o">.</span><span class="n">truth</span><span class="p">(</span><span class="n">tr</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">start</span><span class="p">))</span></div>

    <span class="k">def</span> <span class="nf">_members</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">RegExpPropositional</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">pl_formula</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pl_formula</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_to_nnf</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">RegExpPropositional</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pl_formula</span><span class="o">.</span><span class="n">to_nnf</span><span class="p">())</span>

<div class="viewcode-block" id="RegExpPropositional.negate"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.RegExpPropositional.negate">[docs]</a>    <span class="k">def</span> <span class="nf">negate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">RegExpPropositional</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pl_formula</span><span class="o">.</span><span class="n">negate</span><span class="p">())</span></div>

<div class="viewcode-block" id="RegExpPropositional.deltaDiamond"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.RegExpPropositional.deltaDiamond">[docs]</a>    <span class="k">def</span> <span class="nf">deltaDiamond</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">f</span><span class="p">:</span><span class="n">LDLfFormula</span><span class="p">,</span> <span class="n">i</span><span class="p">:</span> <span class="n">PLInterpretation</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">epsilon</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">PLFalse</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pl_formula</span><span class="o">.</span><span class="n">truth</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
            <span class="c1"># return PLAtomic(Symbol(str(_expand(f))))</span>
            <span class="k">return</span> <span class="n">_expand</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">PLFalse</span><span class="p">()</span></div>

<div class="viewcode-block" id="RegExpPropositional.deltaBox"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.RegExpPropositional.deltaBox">[docs]</a>    <span class="k">def</span> <span class="nf">deltaBox</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">f</span><span class="p">:</span><span class="n">LDLfFormula</span><span class="p">,</span> <span class="n">i</span><span class="p">:</span> <span class="n">PLInterpretation</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">epsilon</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">PLTrue</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pl_formula</span><span class="o">.</span><span class="n">truth</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
            <span class="c1"># return PLAtomic(Symbol(str(_expand(f))))</span>
            <span class="k">return</span> <span class="n">_expand</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">PLTrue</span><span class="p">()</span></div>

<div class="viewcode-block" id="RegExpPropositional.find_labels"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.RegExpPropositional.find_labels">[docs]</a>    <span class="k">def</span> <span class="nf">find_labels</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">pl_formula</span><span class="o">.</span><span class="n">find_labels</span><span class="p">()</span></div>

    <span class="k">def</span> <span class="nf">_find_atomics</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">pl_formula</span><span class="o">.</span><span class="n">find_atomics</span><span class="p">()</span></div>

<div class="viewcode-block" id="RegExpTest"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.RegExpTest">[docs]</a><span class="k">class</span> <span class="nc">RegExpTest</span><span class="p">(</span><span class="n">UnaryOperator</span><span class="p">,</span> <span class="n">RegExpFormula</span><span class="p">):</span>
    <span class="n">operator_symbol</span> <span class="o">=</span> <span class="n">Symbols</span><span class="o">.</span><span class="n">PATH_TEST</span><span class="o">.</span><span class="n">value</span>

    <span class="c1"># def __init__(self, f:LDLfFormula):</span>
    <span class="c1">#     RegExpFormula.__init__(self)</span>
    <span class="c1">#     UnaryOperator.__init__(self, f)</span>

<div class="viewcode-block" id="RegExpTest.truth"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.RegExpTest.truth">[docs]</a>    <span class="k">def</span> <span class="nf">truth</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tr</span><span class="p">:</span> <span class="n">FiniteTrace</span><span class="p">,</span> <span class="n">start</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">end</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">start</span> <span class="o">==</span> <span class="n">end</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">f</span><span class="o">.</span><span class="n">truth</span><span class="p">(</span><span class="n">tr</span><span class="p">,</span> <span class="n">start</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">s</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="o">+</span> <span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">s</span>

    <span class="k">def</span> <span class="nf">_to_nnf</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">RegExpTest</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">f</span><span class="o">.</span><span class="n">to_nnf</span><span class="p">())</span>

<div class="viewcode-block" id="RegExpTest.deltaDiamond"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.RegExpTest.deltaDiamond">[docs]</a>    <span class="k">def</span> <span class="nf">deltaDiamond</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">f</span><span class="p">:</span><span class="n">LDLfFormula</span><span class="p">,</span> <span class="n">i</span><span class="p">:</span> <span class="n">PLInterpretation</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">PLAnd</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">f</span><span class="o">.</span><span class="n">_delta</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">epsilon</span><span class="p">),</span> <span class="n">f</span><span class="o">.</span><span class="n">_delta</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">epsilon</span><span class="p">)])</span></div>

<div class="viewcode-block" id="RegExpTest.deltaBox"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.RegExpTest.deltaBox">[docs]</a>    <span class="k">def</span> <span class="nf">deltaBox</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">f</span><span class="p">:</span><span class="n">LDLfFormula</span><span class="p">,</span> <span class="n">i</span><span class="p">:</span> <span class="n">PLInterpretation</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="c1"># ff = LDLfNot(self.f).to_nnf()</span>
        <span class="c1"># dff = ff._delta(i, epsilon)</span>
        <span class="c1"># fun = f._delta(i, epsilon)</span>
        <span class="k">return</span> <span class="n">PLOr</span><span class="p">([</span><span class="n">LDLfNot</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">f</span><span class="p">)</span><span class="o">.</span><span class="n">to_nnf</span><span class="p">()</span><span class="o">.</span><span class="n">_delta</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">epsilon</span><span class="p">),</span> <span class="n">f</span><span class="o">.</span><span class="n">_delta</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">epsilon</span><span class="p">)])</span></div>

<div class="viewcode-block" id="RegExpTest.find_labels"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.RegExpTest.find_labels">[docs]</a>    <span class="k">def</span> <span class="nf">find_labels</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">f</span><span class="o">.</span><span class="n">find_labels</span><span class="p">()</span></div></div>

<div class="viewcode-block" id="RegExpUnion"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.RegExpUnion">[docs]</a><span class="k">class</span> <span class="nc">RegExpUnion</span><span class="p">(</span><span class="n">CommutativeBinaryOperator</span><span class="p">,</span> <span class="n">RegExpFormula</span><span class="p">):</span>
    <span class="n">operator_symbol</span> <span class="o">=</span> <span class="n">Symbols</span><span class="o">.</span><span class="n">PATH_UNION</span><span class="o">.</span><span class="n">value</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">formulas</span><span class="p">):</span>
        <span class="n">RegExpFormula</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">CommutativeBinaryOperator</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">formulas</span><span class="p">)</span>

<div class="viewcode-block" id="RegExpUnion.truth"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.RegExpUnion.truth">[docs]</a>    <span class="k">def</span> <span class="nf">truth</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tr</span><span class="p">:</span> <span class="n">FiniteTrace</span><span class="p">,</span> <span class="n">start</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">end</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">any</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">truth</span><span class="p">(</span><span class="n">tr</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">formulas_set</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">_to_nnf</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">RegExpUnion</span><span class="p">([</span><span class="n">r</span><span class="o">.</span><span class="n">to_nnf</span><span class="p">()</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">formulas_set</span><span class="p">])</span>

<div class="viewcode-block" id="RegExpUnion.deltaDiamond"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.RegExpUnion.deltaDiamond">[docs]</a>    <span class="k">def</span> <span class="nf">deltaDiamond</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">f</span><span class="p">:</span><span class="n">LDLfFormula</span><span class="p">,</span> <span class="n">i</span><span class="p">:</span> <span class="n">PLInterpretation</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">PLOr</span><span class="p">([</span><span class="n">LDLfDiamond</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span><span class="o">.</span><span class="n">_delta</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">epsilon</span><span class="p">)</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">formulas_set</span><span class="p">])</span></div>

<div class="viewcode-block" id="RegExpUnion.deltaBox"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.RegExpUnion.deltaBox">[docs]</a>    <span class="k">def</span> <span class="nf">deltaBox</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">f</span><span class="p">:</span><span class="n">LDLfFormula</span><span class="p">,</span> <span class="n">i</span><span class="p">:</span> <span class="n">PLInterpretation</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">PLAnd</span><span class="p">([</span><span class="n">LDLfBox</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span><span class="o">.</span><span class="n">_delta</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">epsilon</span><span class="p">)</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">formulas_set</span><span class="p">])</span></div></div>

<div class="viewcode-block" id="RegExpSequence"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.RegExpSequence">[docs]</a><span class="k">class</span> <span class="nc">RegExpSequence</span><span class="p">(</span><span class="n">BinaryOperator</span><span class="p">,</span> <span class="n">RegExpFormula</span><span class="p">):</span>
    <span class="n">operator_symbol</span> <span class="o">=</span> <span class="n">Symbols</span><span class="o">.</span><span class="n">PATH_SEQUENCE</span><span class="o">.</span><span class="n">value</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">formulas</span><span class="p">:</span> <span class="n">OperatorChilds</span><span class="p">):</span>
        <span class="n">RegExpFormula</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">BinaryOperator</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">formulas</span><span class="p">)</span>

<div class="viewcode-block" id="RegExpSequence.truth"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.RegExpSequence.truth">[docs]</a>    <span class="k">def</span> <span class="nf">truth</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tr</span><span class="p">:</span> <span class="n">FiniteTrace</span><span class="p">,</span> <span class="n">start</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">end</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="n">f1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">formulas</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">formulas</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">f2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">formulas</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">f2</span> <span class="o">=</span> <span class="n">RegExpSequence</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">formulas</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>

        <span class="k">return</span> <span class="nb">any</span><span class="p">(</span><span class="n">f1</span><span class="o">.</span><span class="n">truth</span><span class="p">(</span><span class="n">tr</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span> <span class="ow">and</span> <span class="n">f2</span><span class="o">.</span><span class="n">truth</span><span class="p">(</span><span class="n">tr</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span></div>


    <span class="k">def</span> <span class="nf">_to_nnf</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">RegExpSequence</span><span class="p">([</span><span class="n">r</span><span class="o">.</span><span class="n">to_nnf</span><span class="p">()</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">formulas</span><span class="p">])</span>

<div class="viewcode-block" id="RegExpSequence.deltaDiamond"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.RegExpSequence.deltaDiamond">[docs]</a>    <span class="k">def</span> <span class="nf">deltaDiamond</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">f</span><span class="p">:</span><span class="n">LDLfFormula</span><span class="p">,</span> <span class="n">i</span><span class="p">:</span> <span class="n">PLInterpretation</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="n">res</span> <span class="o">=</span> <span class="n">LDLfDiamond</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">formulas</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">f</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">formulas</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]):</span>
            <span class="n">res</span> <span class="o">=</span> <span class="n">LDLfDiamond</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">res</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">res</span><span class="o">.</span><span class="n">_delta</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">epsilon</span><span class="p">)</span></div>

<div class="viewcode-block" id="RegExpSequence.deltaBox"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.RegExpSequence.deltaBox">[docs]</a>    <span class="k">def</span> <span class="nf">deltaBox</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">f</span><span class="p">:</span><span class="n">LDLfFormula</span><span class="p">,</span> <span class="n">i</span><span class="p">:</span> <span class="n">PLInterpretation</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="n">res</span> <span class="o">=</span> <span class="n">LDLfBox</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">formulas</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">f</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">formulas</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]):</span>
            <span class="n">res</span> <span class="o">=</span> <span class="n">LDLfBox</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">res</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">res</span><span class="o">.</span><span class="n">_delta</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">epsilon</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="RegExpStar"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.RegExpStar">[docs]</a><span class="k">class</span> <span class="nc">RegExpStar</span><span class="p">(</span><span class="n">UnaryOperator</span><span class="p">,</span> <span class="n">RegExpFormula</span><span class="p">):</span>
    <span class="n">operator_symbol</span> <span class="o">=</span> <span class="n">Symbols</span><span class="o">.</span><span class="n">PATH_STAR</span><span class="o">.</span><span class="n">value</span>

    <span class="c1"># def __init__(self, f):</span>
    <span class="c1">#     UnaryOperator.__init__(self, f)</span>
    <span class="c1">#     RegExpFormula.__init__(self)</span>

<div class="viewcode-block" id="RegExpStar.truth"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.RegExpStar.truth">[docs]</a>    <span class="k">def</span> <span class="nf">truth</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tr</span><span class="p">:</span> <span class="n">FiniteTrace</span><span class="p">,</span> <span class="n">start</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">end</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">start</span> <span class="o">==</span> <span class="n">end</span> \
            <span class="ow">or</span> <span class="nb">any</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">f</span><span class="o">.</span><span class="n">truth</span><span class="p">(</span><span class="n">tr</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">truth</span><span class="p">(</span><span class="n">tr</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>
                   <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span></div>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">s</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="o">+</span> <span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">s</span>

    <span class="k">def</span> <span class="nf">_to_nnf</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">RegExpStar</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">f</span><span class="o">.</span><span class="n">to_nnf</span><span class="p">())</span>

<div class="viewcode-block" id="RegExpStar.deltaDiamond"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.RegExpStar.deltaDiamond">[docs]</a>    <span class="k">def</span> <span class="nf">deltaDiamond</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">f</span><span class="p">:</span><span class="n">LDLfFormula</span><span class="p">,</span> <span class="n">i</span><span class="p">:</span> <span class="n">PLInterpretation</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">PLOr</span><span class="p">([</span><span class="n">f</span><span class="o">.</span><span class="n">_delta</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">epsilon</span><span class="p">),</span> <span class="n">LDLfDiamond</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">f</span><span class="p">,</span> <span class="n">F</span><span class="p">(</span><span class="n">LDLfDiamond</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">f</span><span class="p">)))</span><span class="o">.</span><span class="n">_delta</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">epsilon</span><span class="p">)])</span></div>

<div class="viewcode-block" id="RegExpStar.deltaBox"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.RegExpStar.deltaBox">[docs]</a>    <span class="k">def</span> <span class="nf">deltaBox</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">f</span><span class="p">:</span><span class="n">LDLfFormula</span><span class="p">,</span> <span class="n">i</span><span class="p">:</span> <span class="n">PLInterpretation</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="c1"># subf = LDLfBox(self.f, T(LDLfBox(self, f)))</span>
        <span class="c1"># k = subf._delta(i, epsilon)</span>
        <span class="c1"># l = [f._delta(i, epsilon), subf]</span>
        <span class="c1"># ff = PLAnd(l)</span>
        <span class="k">return</span> <span class="n">PLAnd</span><span class="p">([</span><span class="n">f</span><span class="o">.</span><span class="n">_delta</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">epsilon</span><span class="p">),</span> <span class="n">LDLfBox</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">f</span><span class="p">,</span> <span class="n">T</span><span class="p">(</span><span class="n">LDLfBox</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">f</span><span class="p">)))</span><span class="o">.</span><span class="n">_delta</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">epsilon</span><span class="p">)])</span></div></div>


<div class="viewcode-block" id="LDLfPropositional"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.LDLfPropositional">[docs]</a><span class="k">class</span> <span class="nc">LDLfPropositional</span><span class="p">(</span><span class="n">DeltaConvertibleFormula</span><span class="p">,</span> <span class="n">LDLfFormula</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pl_formula</span><span class="p">:</span><span class="n">PLFormula</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pl_formula</span> <span class="o">=</span> <span class="n">pl_formula</span>

    <span class="k">def</span> <span class="nf">_convert</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">LDLfDiamond</span><span class="p">(</span><span class="n">RegExpPropositional</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pl_formula</span><span class="p">),</span> <span class="n">LDLfLogicalTrue</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">_members</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">LDLfPropositional</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">pl_formula</span><span class="p">)</span>

<div class="viewcode-block" id="LDLfPropositional.find_labels"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.LDLfPropositional.find_labels">[docs]</a>    <span class="k">def</span> <span class="nf">find_labels</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">pl_formula</span><span class="o">.</span><span class="n">find_labels</span><span class="p">()</span></div>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_convert</span><span class="p">())</span></div>


<div class="viewcode-block" id="LDLfEnd"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.LDLfEnd">[docs]</a><span class="k">class</span> <span class="nc">LDLfEnd</span><span class="p">(</span><span class="n">DeltaConvertibleFormula</span><span class="p">,</span> <span class="n">LDLfAtomic</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">Symbol</span><span class="p">(</span><span class="n">Symbols</span><span class="o">.</span><span class="n">END</span><span class="o">.</span><span class="n">value</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_convert</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">LDLfBox</span><span class="p">(</span><span class="n">RegExpPropositional</span><span class="p">(</span><span class="n">PLTrue</span><span class="p">()),</span> <span class="n">LDLfLogicalFalse</span><span class="p">())</span></div>


<div class="viewcode-block" id="LDLfLast"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.LDLfLast">[docs]</a><span class="k">class</span> <span class="nc">LDLfLast</span><span class="p">(</span><span class="n">DeltaConvertibleFormula</span><span class="p">,</span> <span class="n">LDLfAtomic</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">Symbol</span><span class="p">(</span><span class="n">Symbols</span><span class="o">.</span><span class="n">LAST</span><span class="o">.</span><span class="n">value</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_convert</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">LDLfDiamond</span><span class="p">(</span><span class="n">RegExpPropositional</span><span class="p">(</span><span class="n">PLTrue</span><span class="p">()),</span> <span class="n">LDLfEnd</span><span class="p">()</span><span class="o">.</span><span class="n">_convert</span><span class="p">())</span></div>


<div class="viewcode-block" id="F"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.F">[docs]</a><span class="k">class</span> <span class="nc">F</span><span class="p">(</span><span class="n">Formula</span><span class="p">,</span> <span class="n">Delta</span><span class="p">,</span> <span class="n">NNF</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">f</span><span class="p">:</span> <span class="n">Formula</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">f</span> <span class="o">=</span> <span class="n">f</span>

    <span class="k">def</span> <span class="nf">_members</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span><span class="s2">&quot;F&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">f</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;_&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_members</span><span class="p">()))</span>

<div class="viewcode-block" id="F.delta"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.F.delta">[docs]</a>    <span class="k">def</span> <span class="nf">delta</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">:</span><span class="n">PLInterpretation</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_delta</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">epsilon</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">_delta</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">i</span><span class="p">:</span><span class="n">PLInterpretation</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">PLFalse</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_to_nnf</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span>

<div class="viewcode-block" id="F.negate"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.F.negate">[docs]</a>    <span class="k">def</span> <span class="nf">negate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">T</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">f</span><span class="p">)</span></div>

<div class="viewcode-block" id="F.find_labels"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.F.find_labels">[docs]</a>    <span class="k">def</span> <span class="nf">find_labels</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">find_labels</span><span class="p">()</span></div></div>


<div class="viewcode-block" id="T"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.T">[docs]</a><span class="k">class</span> <span class="nc">T</span><span class="p">(</span><span class="n">Formula</span><span class="p">,</span> <span class="n">Delta</span><span class="p">,</span> <span class="n">NNF</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">f</span><span class="p">:</span> <span class="n">Formula</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">f</span> <span class="o">=</span> <span class="n">f</span>

    <span class="k">def</span> <span class="nf">_members</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span><span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">f</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;_&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_members</span><span class="p">()))</span>

<div class="viewcode-block" id="T.delta"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.T.delta">[docs]</a>    <span class="k">def</span> <span class="nf">delta</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">:</span> <span class="n">PLInterpretation</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_delta</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">epsilon</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">_delta</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">:</span><span class="n">PLInterpretation</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">PLTrue</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_to_nnf</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span>

<div class="viewcode-block" id="T.negate"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.T.negate">[docs]</a>    <span class="k">def</span> <span class="nf">negate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">F</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">f</span><span class="p">)</span></div>

<div class="viewcode-block" id="T.find_labels"><a class="viewcode-back" href="../../../flloat.syntax.html#flloat.syntax.ldlf.T.find_labels">[docs]</a>    <span class="k">def</span> <span class="nf">find_labels</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">find_labels</span><span class="p">()</span></div></div>

<span class="k">def</span> <span class="nf">_expand</span><span class="p">(</span><span class="n">f</span><span class="p">:</span><span class="n">Formula</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">F</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">T</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_expand</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">f</span><span class="p">)</span>
    <span class="c1"># elif isinstance(f, LDLfLogicalTrue):</span>
    <span class="c1">#     return PLTrue()</span>
    <span class="c1"># elif isinstance(f, LDLfLogicalFalse):</span>
    <span class="c1">#     return PLFalse()</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">LDLfDiamond</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">LDLfBox</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="n">f</span><span class="p">)(</span><span class="n">f</span><span class="o">.</span><span class="n">r</span><span class="p">,</span> <span class="n">_expand</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">f</span><span class="p">))</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">BinaryOperator</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="n">f</span><span class="p">)([</span><span class="n">_expand</span><span class="p">(</span><span class="n">subf</span><span class="p">)</span> <span class="k">for</span> <span class="n">subf</span> <span class="ow">in</span> <span class="n">f</span><span class="o">.</span><span class="n">formulas</span><span class="p">])</span>
    <span class="c1"># elif isinstance(f, LDLfLogicalTrue):</span>
    <span class="c1">#     return PLTrue()</span>
    <span class="c1"># elif isinstance(f, LDLfLogicalFalse):</span>
    <span class="c1">#     return PLFalse()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">f</span>

<span class="n">LDLfAnd</span><span class="o">.</span><span class="n">Dual</span> <span class="o">=</span> <span class="n">LDLfOr</span>
<span class="n">LDLfOr</span><span class="o">.</span><span class="n">Dual</span> <span class="o">=</span> <span class="n">LDLfAnd</span>

<span class="n">LDLfDiamond</span><span class="o">.</span><span class="n">Dual</span> <span class="o">=</span> <span class="n">LDLfBox</span>
<span class="n">LDLfBox</span><span class="o">.</span><span class="n">Dual</span> <span class="o">=</span> <span class="n">LDLfDiamond</span>
</pre></div>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../index.html">FLLOAT</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../readme.html">FLLOAT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../modules.html">flloat</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../authors.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../history.html">History</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Documentation overview</a><ul>
  <li><a href="../../index.html">Module code</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Marco Favorito.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
    </div>

    

    
  </body>
</html>